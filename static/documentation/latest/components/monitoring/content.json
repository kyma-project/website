{
  "id": "monitoring",
  "displayName": "Monitoring",
  "description": "Overal documentation for Monitoring",
  "type": "Components",
  "docs": [
    {
      "order": "001-overview-monitoring",
      "title": "Overview",
      "type": "Overview",
      "source": "<p>To enrich Kyma with monitoring functionality, third-party resources come by default as packaged tools. The <code>kube-prometheus</code> package is a Prometheus operator from CoreOS responsible for delivering these tools. Monitoring in Kyma includes three primary elements:</p>\n<ul>\n<li>Prometheus, an open-source system monitoring toolkit.</li>\n<li>Grafana, a user interface that allows you to query and visualize statistics and metrics.  </li>\n<li>AlertManager, a Prometheus component that handles alerts that originate from Prometheus. AlertManager performs needed deduplicating, grouping, and routing based on rules defined by the Prometheus server.</li>\n</ul>\n<h2 id=\"the-advantage-of-kube-prometheus\">The advantage of kube-prometheus</h2>\n<p>Convenience and efficiency are the main advantages to using the <code>kube-prometheus</code> package. <code>kube-prometheus</code> delivers a level of monitoring options that would otherwise involve extensive development effort to acquire. Prometheus, Grafana, and AlertManager installed on their own would require the developer to perform customization to achieve the same results as the operator alone. <code>kube-prometheus</code> is configured to run on Kubernetes and monitor clusters without additional configuration.</p>\n"
    },
    {
      "order": "020-architecture-monitoring",
      "title": "Architecture",
      "type": "Architecture",
      "source": "<p>This document outlines the monitoring architecture of Kyma, highlighting information sources that Prometheus polls for data to process.</p>\n<p><img src=\"assets/monitoring.png\" alt=\"Monitoring architecture in Kyma\"></p>\n<h2 id=\"the-prometheus-operator\">The Prometheus Operator</h2>\n<p>The Prometheus Operator is a CoreOS component integrated into Kyma that enables Prometheus deployments to be decoupled from the configuration of the entities they monitor. The task of the Operator is to ensure that Prometheus servers with the specified configuration are always running. If the developer does not specify a configuration for Prometheus instances, the Operator is able to generate and deploy one. The Prometheus instance is responsible for the monitoring of services.</p>\n<h2 id=\"the-service-monitor\">The Service Monitor</h2>\n<p>The Service Monitor works in orchestration with the Prometheus resource that the Operator watches. It dictates to a Prometheus resource how to retrieve metrics and enables exposure of those metrics in a standard manner. It also specifies services the Prometheus instance should monitor. Using labels, the Prometheus resource includes a Service Monitor.  </p>\n<h2 id=\"monitored-data-sources\">Monitored Data sources</h2>\n<p>Prometheus contains the flexibility to poll data from a variety of sources. Virtual machines on which Kubernetes runs make time-stamped data available, reporting on jobs started, workload, CPU performance, capacity, and more. In this case, the Service Monitor watches the Kubernetes API master to detect any job creation. The job produces time-stamped data that Prometheus consumes.</p>\n<p>Pods may contain applications with custom metrics that Prometheus can poll through the Prometheus exporter.</p>\n<h2 id=\"grafana\">Grafana</h2>\n<p>Kyma employs Grafana as a third-party resource in <code>kube-prometheus</code> to deliver a feature-rich metrics dashboard and graph editor.</p>\n<p>To access the Grafana UI, use the following URL: <a href=\"https://grafana.{DOMAIN}\" target=\"_blank\">https://grafana.{DOMAIN}</a>. Replace DOMAIN with the domain of your Kyma cluster.</p>\n<h2 id=\"alertmanager\">Alertmanager</h2>\n<p>Alertmanager receives harvested metrics from Prometheus and forwards this data on to the configured channels, such as email or incident management systems.</p>\n"
    }
  ]
}
